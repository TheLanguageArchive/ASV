<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" xmlns:wicket="http://wicket.apache.org">
    <head>
        <title>The Language Archive: Metadata Browser</title>
        <link rel="stylesheet" href="style/style.css" type="text/css" media="screen" title="Stylesheet" />
        <link rel="stylesheet" href="style/aboutStyle.css" type="text/css" media="screen" title="Stylesheet" />
        <link rel="stylesheet" href="style/metadata-visualisation.css" type="text/css" media="screen" title="Stylesheet" />
        <link rel="shortcut icon" href="favicon.ico" type="image/ico" />
    </head>
    <body>
        <div wicket:id="headerPanel" id="headerPanel">[HEADER PANEL]</div>

        <div wicket:id="treePanel" id="treePanel">[TREE PANEL]</div>
        <div wicket:id="nodesPanel" id="nodePanel">[NODES PANEL]</div>
        <script>
            function doLayout() {
                var variousDecorationsHeight = 2;
                var extraDecorationsForMainPanel = 130;
                var treepanel = $("#treePanel");
                var nodePresentationContainer = $("#nodePresentation");
                var header = $("#headerPanel");
                var heightForTreeMenu = $(window).height() - header.height() - variousDecorationsHeight;
                var heightForMainPanel = $(window).height() - header.height() - extraDecorationsForMainPanel;
                treepanel.height(heightForTreeMenu);
                nodePresentationContainer.height(heightForMainPanel);
            }

            $(document).ready(function () {

                $(window).resize(doLayout);
                doLayout();

                //scroll to the selected tree item
                var selected = $('#treePanel .selected');
                if (selected.length > 0) {
                    var panel = $('#treePanel');
                    var panelOffset = panel.offset().top;
                    var panelHeight = panel.height() / 2;
                    var itemOffset = selected.offset().top;
                    panel.scrollTop(itemOffset - panelOffset - panelHeight);
                }

                if (typeof init_viewer === 'function') {
                    init_viewer('imdi-viewer-open.png', 'imdi-viewer-closed.png');
                }
            });
        </script>
    </body>
</html>
